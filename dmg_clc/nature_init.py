import sqlite3
import os
import pandas as pd

# ベースディレクトリと database フォルダ
BASE_DIR = os.path.dirname(os.path.abspath(__file__))
db_dir = os.path.join(BASE_DIR, 'database')
os.makedirs(db_dir, exist_ok=True)

db_path = os.path.join(db_dir, 'nature.db')

nature_data = {
    'さみしがり': {'攻撃': 1.1, '防御': 0.9, '特攻': 1.0, '特防': 1.0, '素早さ': 1.0},
    'いじっぱり': {'攻撃': 1.1, '防御': 1.0, '特攻': 0.9, '特防': 1.0, '素早さ': 1.0},
    'やんちゃ': {'攻撃': 1.1, '防御': 1.0, '特攻': 1.0, '特防': 0.9, '素早さ': 1.0},
    'ゆうかん': {'攻撃': 1.1, '防御': 1.0, '特攻': 1.0, '特防': 1.0, '素早さ': 0.9},
    'ずぶとい': {'攻撃': 0.9, '防御': 1.1, '特攻': 1.0, '特防': 1.0, '素早さ': 1.0},
    'わんぱく': {'攻撃': 1.0, '防御': 1.1, '特攻': 0.9, '特防': 1.0, '素早さ': 1.0},
    'のうてんき': {'攻撃': 1.0, '防御': 1.1, '特攻': 1.0, '特防': 0.9, '素早さ': 1.0},
    'のんき': {'攻撃': 1.0, '防御': 1.1, '特攻': 1.0, '特防': 1.0, '素早さ': 0.9},
    'ひかえめ': {'攻撃': 0.9, '防御': 1.0, '特攻': 1.1, '特防': 1.0, '素早さ': 1.0},
    'おっとり': {'攻撃': 1.0, '防御': 0.9, '特攻': 1.1, '特防': 1.0, '素早さ': 1.0},
    'うっかりや': {'攻撃': 1.0, '防御': 1.0, '特攻': 1.1, '特防': 0.9, '素早さ': 1.0},
    'れいせい': {'攻撃': 1.0, '防御': 1.0, '特攻': 1.1, '特防': 1.0, '素早さ': 0.9},
    'おだやか': {'攻撃': 0.9, '防御': 1.0, '特攻': 1.0, '特防': 1.1, '素早さ': 1.0},
    'おとなしい': {'攻撃': 1.0, '防御': 0.9, '特攻': 1.0, '特防': 1.1, '素早さ': 1.0},
    'しんちょう': {'攻撃': 1.0, '防御': 1.0, '特攻': 0.9, '特防': 1.1, '素早さ': 1.0},
    'なまいき': {'攻撃': 1.0, '防御': 1.0, '特攻': 1.0, '特防': 1.1, '素早さ': 0.9},
    'おくびょう': {'攻撃': 0.9, '防御': 1.0, '特攻': 1.0, '特防': 1.0, '素早さ': 1.1},
    'せっかち': {'攻撃': 1.0, '防御': 0.9, '特攻': 1.0, '特防': 1.0, '素早さ': 1.1},
    'ようき': {'攻撃': 1.0, '防御': 1.0, '特攻': 0.9, '特防': 1.0, '素早さ': 1.1},
    'むじゃき': {'攻撃': 1.0, '防御': 1.0, '特攻': 1.0, '特防': 0.9, '素早さ': 1.1},
    'てれや': {'攻撃': 1.0, '防御': 1.0, '特攻': 1.0, '特防': 1.0, '素早さ': 1.0},
    'がんばりや': {'攻撃': 1.0, '防御': 1.0, '特攻': 1.0, '特防': 1.0, '素早さ': 1.0},
    'すなお': {'攻撃': 1.0, '防御': 1.0, '特攻': 1.0, '特防': 1.0, '素早さ': 1.0},
    'きまぐれ': {'攻撃': 1.0, '防御': 1.0, '特攻': 1.0, '特防': 1.0, '素早さ': 1.0},
    'まじめ': {'攻撃': 1.0, '防御': 1.0, '特攻': 1.0, '特防': 1.0, '素早さ': 1.0}
}

# データベースに接続
conn = sqlite3.connect(db_path)
cursor = conn.cursor()

# テーブル作成
cursor.execute('''
CREATE TABLE IF NOT EXISTS nature (
    name TEXT PRIMARY KEY,
    attack REAL,
    defense REAL,
    sp_attack REAL,
    sp_defense REAL,
    speed REAL
)
''')

# データを挿入
for name, stats in nature_data.items():
    cursor.execute('''
        INSERT OR REPLACE INTO nature (name, attack, defense, sp_attack, sp_defense, speed)
        VALUES (?, ?, ?, ?, ?, ?)
    ''', (
        name,
        stats['攻撃'],
        stats['防御'],
        stats['特攻'],
        stats['特防'],
        stats['素早さ']
    ))

conn.commit()
conn.close()